<ng-container *ngIf="{
  ledgerId: ledgerId$ | async,
  snapshot: snapshot$ | async
} as resolved">
  <div
    *ngIf="resolved.ledgerId !== null && resolved.snapshot"
    class="tw-flex tw-flex-col tw-pt-3 tw-px-4 tw-pb-2 tw-border-b tw-border-neutral-200">

    <app-cross-project-reference-log-item
      *ngIf="resolved.snapshot.type === 'CrossProjectReferenceV0'"
      [ledgerId]="resolved.ledgerId"
      [snapshot]="resolved.snapshot"></app-cross-project-reference-log-item>
    <app-document-log-item
      *ngIf="resolved.snapshot.type === 'DocumentV0'"
      [ledgerId]="resolved.ledgerId"
      [snapshot]="resolved.snapshot">
    </app-document-log-item>
    <app-project-log-item
      *ngIf="resolved.snapshot.type === 'ProjectV0'"
      [ledgerId]="resolved.ledgerId"
      [snapshot]="resolved.snapshot">
    </app-project-log-item>
    <app-participant-log-item
      *ngIf="resolved.snapshot.type === 'ProjectParticipantV0'"
      [ledgerId]="resolved.ledgerId"
      [snapshot]="resolved.snapshot">
    </app-participant-log-item>
    <app-stream-entry-log-item
      *ngIf="resolved.snapshot.type === 'StreamEntryV0'"
      [ledgerId]="resolved.ledgerId"
      [snapshot]="resolved.snapshot">
    </app-stream-entry-log-item>
    <app-stream-reference-log-item
      *ngIf="resolved.snapshot.type === 'StreamReferenceV0'"
      [ledgerId]="resolved.ledgerId"
      [snapshot]="resolved.snapshot">
    </app-stream-reference-log-item>
    <app-tag-entry-log-item
      *ngIf="resolved.snapshot.type === 'TagEntryV0'"
      [ledgerId]="resolved.ledgerId"
      [snapshot]="resolved.snapshot">
    </app-tag-entry-log-item>
    <app-tag-log-item
      *ngIf="resolved.snapshot.type === 'TagV0'"
      [ledgerId]="resolved.ledgerId"
      [snapshot]="resolved.snapshot">
    </app-tag-log-item>
    <app-thread-log-item
      *ngIf="resolved.snapshot.type === 'ThreadV0'"
      [ledgerId]="resolved.ledgerId"
      [snapshot]="resolved.snapshot">
    </app-thread-log-item>
    <app-thread-message-log-item
      *ngIf="resolved.snapshot.type === 'ThreadMessageV0'"
      [snapshot]="resolved.snapshot"
      [ledgerId]="resolved.ledgerId">
    </app-thread-message-log-item>
    <app-thread-reference-log-item
      *ngIf="resolved.snapshot.type === 'ThreadReferenceV0'"
      [snapshot]="resolved.snapshot"
      [ledgerId]="resolved.ledgerId">
    </app-thread-reference-log-item>
    <app-workflow-log-item
      *ngIf="resolved.snapshot.type === 'WorkflowV0'"
      [snapshot]="resolved.snapshot">
    </app-workflow-log-item>

    <div
      *ngIf="{
      updatedInBlock: resolved.snapshot.updatedInBlock,
      acknowledgementStatus: acknowledgementStatus$ | async
    } as acksData"
      class="tw-flex tw-flex-row tw-items-center">
      <app-acks-icon
        class="tw-ml-8 tw-mr-2"
        [status]="acksData.acknowledgementStatus && acksData.acknowledgementStatus.status"
        (click)="acksData.updatedInBlock && openAcknowledgementsDialog(acksData.updatedInBlock, resolved.ledgerId)"></app-acks-icon>
      <small
        *ngIf="resolved.snapshot.updatedInBlock.createdAt as date"
        class="tw-text-neutral-400 tw-text-xs">
        {{ date | date : 'dd MMM YYYY, HH:mm' }}
      </small>
    </div>
  </div>
</ng-container>
