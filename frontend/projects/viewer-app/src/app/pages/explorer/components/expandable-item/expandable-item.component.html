<div
  *ngIf="block"
  class="tw-flex tw-flex-col tw-border-t !tw-ml-10 tw-border-neutral-200 tw-text-sm"
  (click)="$event.stopPropagation()">

  <div
    *ngIf="block.type === 'InContext'"
    class="tw-flex tw-flex-col">
    <div class="tw-capitalize tw-py-3 tw-pl-10 tw-h5 tw-truncate">
      {{ 'i18n.BlockTable.inContext' | translate }}
    </div>
    <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row tw-items-center">
      <div class="!tw-mr-5 tw-w-45 table-header-cell tw-truncate">
        {{ 'i18n.Explorer.hash' | translate }}
      </div>
      <div
        *ngIf="block.contextLinkHash | uint8 as contextLinkHash"
        class="tw-py-1 tw-grow tw-flex tw-flex-row tw-justify-start tw-items-center tw-truncate">
        <ngx-t3-copy-to-clipboard
          class="tw-w-full"
          position="left"
          [textToCopy]="contextLinkHash"
          (click)="$event.stopImmediatePropagation()">
          <div
            class="tw-text-sm tw-truncate tw-mr-1">
            {{ contextLinkHash }}
          </div>
        </ngx-t3-copy-to-clipboard>
      </div>
    </div>
  </div>

  <div
    *ngIf="block.type === 'PreviousBlock'"
    class="tw-flex tw-flex-col">
    <div class="tw-capitalize tw-py-3 tw-pl-10 tw-h5 tw-truncate">
      {{ 'i18n.BlockTable.previousBlock' | translate }}
    </div>
    <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row tw-items-center">
      <div class="!tw-mr-5 tw-w-45 table-header-cell tw-truncate">
        {{ 'i18n.Explorer.hash' | translate }}
      </div>
      <div
        *ngIf="block.previousBlockHash | uint8 as previousBlockHash"
        class="tw-py-1 tw-grow tw-flex tw-flex-row tw-justify-start tw-items-center tw-truncate">
        <ngx-t3-copy-to-clipboard
          class="tw-w-full"
          position="left"
          [textToCopy]="previousBlockHash"
          (click)="$event.stopImmediatePropagation()">
          <div
            class="tw-text-sm tw-truncate tw-mr-1">
            {{ previousBlockHash }}
          </div>
        </ngx-t3-copy-to-clipboard>
      </div>
    </div>
  </div>

  <div
    *ngIf="block.type === 'AuthorSignature'"
    class="tw-flex tw-flex-col">
    <div class="tw-capitalize tw-py-3 tw-pl-10 tw-h5 tw-truncate">
      {{ 'i18n.BlockTable.signature' | translate }}
    </div>
    <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row tw-items-center">
      <div class="!tw-mr-5 tw-w-45 table-header-cell tw-truncate">
        {{ 'i18n.BlockTable.authorId' | translate }}
      </div>
      <div
        *ngIf="block.authorId | uint8 as authorId"
        class="tw-py-1 tw-grow tw-flex tw-flex-row tw-justify-start tw-items-center tw-truncate">
        <ngx-t3-copy-to-clipboard
          class="tw-w-full"
          position="left"
          [textToCopy]="authorId"
          (click)="$event.stopImmediatePropagation()">
          <div
            class="tw-text-sm tw-truncate tw-mr-1">
            {{ authorId }}
          </div>
        </ngx-t3-copy-to-clipboard>
      </div>
    </div>
    <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row tw-items-center">
      <div class="!tw-mr-5 tw-w-45 table-header-cell tw-truncate">
        {{ 'i18n.BlockTable.authorSignature' | translate }}
      </div>
      <div
        *ngIf="block.authorSignature | uint8 as authorSignature"
        class="tw-py-1 tw-grow tw-flex tw-flex-row tw-justify-start tw-items-center tw-truncate">
        <ngx-t3-copy-to-clipboard
          class="tw-w-full"
          position="left"
          [textToCopy]="authorSignature"
          (click)="$event.stopImmediatePropagation()">
          <div
            class="tw-text-sm tw-truncate tw-mr-1">
            {{ authorSignature }}
          </div>
        </ngx-t3-copy-to-clipboard>
      </div>
    </div>
  </div>

  <div
    *ngIf="block.type === 'UpdateContext'"
    class="tw-flex tw-flex-col">
    <div class="tw-capitalize tw-py-3 tw-pl-10 tw-h5 tw-truncate">
      {{ 'i18n.BlockTable.updateContext' | translate }}
    </div>
  </div>

  <div
    *ngIf="block.type === 'Ack'"
    class="tw-flex tw-flex-col">
    <div class="tw-capitalize tw-py-3 tw-pl-10 tw-h5 tw-truncate">
      {{ 'i18n.BlockTable.acknowledgeBlock' | translate }}
    </div>
    <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row tw-items-center">
      <div class="!tw-mr-5 tw-w-45 table-header-cell tw-truncate">
       {{ 'i18n.BlockTable.targetIndex' | translate }}
      </div>
      {{ block.targetIndex }}
    </div>
    <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row tw-items-center">
      <div class="!tw-mr-5 tw-w-45 table-header-cell tw-truncate">
       {{ 'i18n.BlockTable.targetHash' | translate }}
      </div>
      <div
        *ngIf="block.targetLinkHash | uint8 as targetLinkHash"
        class="tw-py-1 tw-grow tw-flex tw-flex-row tw-justify-start tw-items-center tw-truncate">
        <ngx-t3-copy-to-clipboard
          class="tw-w-full"
          position="left"
          [textToCopy]="targetLinkHash"
          (click)="$event.stopImmediatePropagation()">
          <div
            class="tw-text-sm tw-truncate tw-mr-1">
            {{ targetLinkHash }}
          </div>
        </ngx-t3-copy-to-clipboard>
      </div>
    </div>
  </div>

  <div
    *ngIf="block.type === 'Reference'"
    class="tw-flex tw-flex-col">
    <div class="tw-capitalize tw-py-3 tw-pl-10 tw-h5 tw-truncate">
      {{ 'i18n.BlockTable.referenceBlock' | translate }}
    </div>
    <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row">
      <div class="!tw-mr-5 tw-w-45 table-header-cell tw-pt-7px">
        {{ 'i18n.Explorer.hashes' | translate }}
      </div>
      <div class="tw-flex tw-flex-col tw-truncate">
        <ng-container *ngFor="let hash of block.hashes">
          <div
            *ngIf="hash | uint8 as blockHash"
            class="tw-py-1 tw-grow tw-flex tw-flex-row tw-justify-start tw-items-center tw-truncate">
            <ngx-t3-copy-to-clipboard
              class="tw-w-full"
              position="left"
              [textToCopy]="blockHash"
              (click)="$event.stopImmediatePropagation()">
              <div
                class="tw-text-sm tw-truncate tw-mr-1">
                {{ blockHash }}
              </div>
            </ngx-t3-copy-to-clipboard>
          </div>
        </ng-container>
      </div>
    </div>
  </div>

  <div
    *ngIf="block.type === 'Policy'"
    class="tw-flex tw-flex-col">
    <ng-container *ngIf="block | apply : parsePolicyV1 as policy">
      <div class="tw-capitalize tw-py-3 tw-pl-10 tw-h5 tw-truncate">
        {{ 'i18n.BlockTable.policyBlock' | translate }}
      </div>
      <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row">
        <div class="!tw-mr-5 tw-w-45 table-header-cell tw-pt-7px">
          {{ 'i18n.BlockTable.allowedBlocks' | translate }}
        </div>
        <div class="tw-flex tw-flex-col">
          <ng-container *ngFor="let encodedSequenzeOfBlocks of policy.AllowedBlocks">
            <div class="tw-py-1 tw-grow tw-flex tw-flex-row tw-justify-start tw-items-center">
              <div
                *ngFor="let blockTypeCode of (encodedSequenzeOfBlocks | apply : decode).split('')"
                class="tw-mr-2">
                <ngx-t3-tag
                  *ngIf="blockTypeCode | apply : getBlockTypeDetailsFromBlockTypeCode as blockDetails"
                  [class]="blockDetails.class"
                  [matTooltip]="blockDetails.fullName">
                  {{ blockTypeCode }}
                </ngx-t3-tag>
              </div>
            </div>
          </ng-container>
        </div>
      </div>
      <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row tw-items-center tw-border-t tw-border-neutral-200">
        <div class="!tw-mr-5 tw-w-45 table-header-cell tw-truncate">
          {{ 'i18n.BlockTable.serialization' | translate }}
        </div>
        <ngx-t3-copy-to-clipboard
          [textToCopy]="policy.ApplicationData.Serialization"
          (click)="$event.stopImmediatePropagation()">
          <div class="tw-text-sm tw-mr-1">
            {{ policy.ApplicationData.Serialization }}
          </div>
        </ngx-t3-copy-to-clipboard>
      </div>
      <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row tw-items-center">
        <div class="!tw-mr-5 tw-w-45 table-header-cell tw-truncate">
          {{ 'i18n.BlockTable.encryption' | translate }}
        </div>
        <ngx-t3-copy-to-clipboard
          [textToCopy]="policy.ApplicationData.Encryption"
          (click)="$event.stopImmediatePropagation()">
          <div class="tw-text-sm tw-mr-1">
            {{ policy.ApplicationData.Encryption }}
          </div>
        </ngx-t3-copy-to-clipboard>
      </div>
      <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row tw-items-center">
        <div class="!tw-mr-5 tw-w-45 table-header-cell tw-truncate">
          {{ 'i18n.BlockTable.version' | translate }}
        </div>
        {{ policy.ApplicationData.Version }}
      </div>
      <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row tw-border-t tw-border-neutral-200">
        <div class="!tw-mr-5 tw-w-45 table-header-cell tw-pt-7px">
          {{ 'i18n.BlockTable.authorKeys' | translate }}
        </div>
        <div class="tw-flex tw-flex-col">
          <ng-container *ngFor="let authorKey of policy.AuthorKeys">
            <div
              *ngIf="authorKey | uint8 as key"
              class="tw-py-1 tw-grow tw-flex tw-flex-row tw-justify-start tw-items-center">
              <ngx-t3-copy-to-clipboard
                [textToCopy]="key"
                (click)="$event.stopImmediatePropagation()">
                <div class="tw-text-sm tw-mr-1">
                  {{ key }}
                </div>
              </ngx-t3-copy-to-clipboard>
            </div>
          </ng-container>
        </div>
      </div>
      <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row tw-items-center tw-border-t tw-border-neutral-200">
        <div class="!tw-mr-5 tw-w-45 table-header-cell tw-truncate">
          {{ 'i18n.BlockTable.hashingAlgorithm' | translate }}
        </div>
        <ngx-t3-copy-to-clipboard
          [textToCopy]="policy.HashingAlgorithm"
          (click)="$event.stopImmediatePropagation()">
          <div class="tw-text-sm tw-mr-1">
            {{ policy.HashingAlgorithm }}
          </div>
        </ngx-t3-copy-to-clipboard>
      </div>
      <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row tw-items-center">
        <div class="!tw-mr-5 tw-w-45 table-header-cell tw-truncate">
          {{ 'i18n.BlockTable.signingAlgorithm' | translate }}
        </div>
        <ngx-t3-copy-to-clipboard
          [textToCopy]="policy.SigningAlgorithm"
          (click)="$event.stopImmediatePropagation()">
          <div class="tw-text-sm tw-mr-1">
            {{ policy.SigningAlgorithm }}
          </div>
        </ngx-t3-copy-to-clipboard>
      </div>
      <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row tw-items-center">
        <div class="!tw-mr-5 tw-w-45 table-header-cell tw-truncate">
          {{ 'i18n.BlockTable.maxBlockSize' | translate }}
        </div>
        {{ policy.MaxBlockSize | apply : formatBytesSize : 2 }}
      </div>
      <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row tw-items-center">
        <div class="!tw-mr-5 tw-w-45 table-header-cell tw-truncate">
          {{ 'i18n.BlockTable.ledgerPublicKey' | translate }}
        </div>
        <ngx-t3-copy-to-clipboard
          [textToCopy]="policy.LedgerPublicKey"
          (click)="$event.stopImmediatePropagation()">
          <div class="tw-text-sm tw-mr-1">
            {{ policy.LedgerPublicKey | uint8 }}
          </div>
        </ngx-t3-copy-to-clipboard>
      </div>
    </ng-container>
  </div>

  <div
    *ngIf="block.type === 'AddAuthors'"
    class="tw-flex tw-flex-col">
    <div class="tw-capitalize tw-py-3 tw-pl-10 tw-h5 tw-truncate">
      {{ 'i18n.BlockTable.addAuthorsBlock' | translate }}
    </div>
    <div class="tw-truncate tw-py-1 tw-pl-10 tw-text-sm tw-truncate tw-flex tw-flex-row">
      <div class="!tw-mr-5 tw-w-45 table-header-cell tw-pt-7px">
        {{ 'i18n.BlockTable.authorKeys' | translate }}
      </div>
      <div class="tw-flex tw-flex-col tw-truncate">
        <ng-container *ngFor="let authorKey of block.authorKeys">
          <div
            *ngIf="authorKey | uint8 as authorKey"
            class="tw-py-1 tw-grow tw-flex tw-flex-row tw-justify-start tw-items-center tw-truncate">
            <ngx-t3-copy-to-clipboard
              class="tw-w-full"
              position="left"
              [textToCopy]="authorKey"
              (click)="$event.stopImmediatePropagation()">
              <div
                class="tw-text-sm tw-truncate tw-mr-1">
                {{ authorKey }}
              </div>
            </ngx-t3-copy-to-clipboard>
          </div>
        </ng-container>
      </div>
    </div>
  </div>

</div>
