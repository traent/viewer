<ng-container
  *ngIf="{
    keyPair: keyPair$ | async,
    exportRequest: exportRequest$ | async
  } as resolved">
  <div class="opal-py-3 opal-px-4 opal-bg-white opal-border-1 opal-radius-8 opal-border-grey-200">
    <div class="opal-h2">
      {{ 'i18n.Explorer.keyPair' | translate }}
    </div>
    <div class="opal-border-b-1 opal-border-grey-100 opal-mx-n-4 opal-fx-row opal-fx-align-center opal-py-3 opal-px-4">
      <div class="opal-fx-row opal-fx-align-center opal-ellipsed opal-w-full">
        <span class="opal-w-30 table-header-cell">Key ID</span>
        <div class="opal-fx-g-3 opal-fx-b-0 opal-fx-row opal-fx-justify-start opal-fx-align-center opal-ellipsed">
          <ngx-t3-copy-to-clipboard
            *ngIf="resolved.keyPair?.keyId as keyId"
            class="opal-w-full"
            position="left"
            [textToCopy]="keyId"
            (click)="$event.stopImmediatePropagation()">
            <div
              class="opal-text-mono opal-body-2 opal-ellipsed opal-mr-1">
              {{ keyId }}
            </div>
          </ngx-t3-copy-to-clipboard>
          <div
            *ngIf="!resolved.keyPair?.keyId"
            class="opal-text-capitalize opal-body-1 opal-text-grey-400 opal-text-style-italic">
            {{ 'i18n.Common.none' | translate }}
          </div>
        </div>
      </div>
    </div>

    <div class="opal-border-b-1 opal-border-grey-100 opal-mx-n-4 opal-fx-row opal-fx-align-center opal-py-3 opal-px-4 opal-ellipsed">
      <span class="opal-w-30 table-header-cell">{{ 'i18n.Explorer.type' | translate }}</span>
      <div
        *ngIf="resolved.keyPair?.keyType"
        class="opal-ellipsed opal-body-2">
        {{ resolved.keyPair?.keyType }}
      </div>
      <div
        *ngIf="!resolved.keyPair?.keyType"
        class="opal-text-capitalize opal-body-1 opal-text-grey-400 opal-text-style-italic">
        {{ 'i18n.Common.none' | translate }}
      </div>
    </div>

    <div class="opal-border-b-1 opal-border-grey-100 opal-mx-n-4 opal-fx-row opal-fx-align-center opal-py-3 opal-px-4 opal-ellipsed">
      <span class="opal-w-30 table-header-cell">
        {{ 'i18n.Explorer.curve' | translate }}
      </span>
      <div
        *ngIf="resolved.keyPair?.curve"
        class="opal-ellipsed opal-body-2">
        {{ resolved.keyPair?.curve }}
      </div>
      <div
        *ngIf="!resolved.keyPair?.curve"
        class="opal-text-capitalize opal-body-1 opal-text-grey-400 opal-text-style-italic">
        {{ 'i18n.Common.none' | translate }}
      </div>
    </div>

    <div class="opal-border-b-1 opal-border-grey-100 opal-mx-n-4 opal-fx-row opal-fx-align-center opal-py-3 opal-px-4 opal-ellipsed">
      <span class="opal-w-30 table-header-cell">
        {{ 'i18n.Explorer.creationTime' | translate }}
      </span>
      <div
        *ngIf="resolved.keyPair?.createdAt"
        class="opal-ellipsed opal-body-2">
        {{ resolved.keyPair?.createdAt | date : 'dd LLL yyyy, hh:mm:ss a' }}
      </div>
      <div
        *ngIf="!resolved.keyPair?.createdAt"
        class="opal-text-capitalize opal-body-1 opal-text-grey-400 opal-text-style-italic">
        {{ 'i18n.Common.none' | translate }}
      </div>
    </div>
    <div class="opal-border-b-1 opal-border-grey-100 opal-mx-n-4 opal-fx-row opal-fx-align-center opal-py-3 opal-px-4">
      <div class="opal-fx-row opal-fx-align-center opal-ellipsed opal-w-full">
        <span class="opal-w-30 table-header-cell">
          {{ 'i18n.Explorer.publicKey' | translate }}
        </span>
        <div class="opal-fx-g-3 opal-fx-b-0 opal-fx-row opal-fx-justify-start opal-fx-align-center opal-ellipsed">
          <ngx-t3-copy-to-clipboard
            *ngIf="resolved.keyPair?.publicKey as publicKey"
            class="opal-w-full"
            position="left"
            [textToCopy]="publicKey"
            (click)="$event.stopImmediatePropagation()">
            <div
              class="opal-text-mono opal-body-2 opal-ellipsed opal-mr-1">
              {{ publicKey }}
            </div>
          </ngx-t3-copy-to-clipboard>
          <div
            *ngIf="!resolved.keyPair?.publicKey"
            class="opal-text-capitalize opal-body-1 opal-text-grey-400 opal-text-style-italic">
            {{ 'i18n.Common.none' | translate }}
          </div>
        </div>
      </div>
    </div>

    <div class="opal-mx-n-4 opal-fx-row opal-fx-align-center opal-pt-3 opal-px-4">
      <div class="opal-fx-row opal-fx-align-center opal-ellipsed opal-w-full">
        <span class="opal-w-30 table-header-cell">
          {{ 'i18n.Explorer.secretKey' | translate }}
        </span>
        <div class="opal-fx-g-3 opal-fx-b-0 opal-fx-row opal-fx-justify-start opal-fx-align-center opal-ellipsed">
          <ngx-t3-copy-to-clipboard
            *ngIf="resolved.keyPair?.secretKey as secretKey"
            class="opal-w-full"
            position="left"
            [textToCopy]="secretKey"
            (click)="$event.stopImmediatePropagation()">
            <div
              class="opal-text-mono opal-body-2 opal-ellipsed opal-mr-1">
              {{ secretKey }}
            </div>
          </ngx-t3-copy-to-clipboard>
          <div
            *ngIf="!resolved.keyPair?.secretKey"
            class="opal-text-capitalize opal-body-1 opal-text-grey-400 opal-text-style-italic">
            {{ 'i18n.Common.none' | translate }}
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="opal-p-3 opal-bg-white opal-border-1 opal-radius-8 opal-mt-6 opal-border-grey-200">
    <div class="opal-h2">
      {{ 'i18n.Explorer.exportConfiguration' | translate }}
    </div>
    <json-editor
      class="opal-border-none opal-content-fit opal-mt-4"
      [data]="resolved.exportRequest || { }"
      [options]="editorOptions">
    </json-editor>
  </div>
</ng-container>
